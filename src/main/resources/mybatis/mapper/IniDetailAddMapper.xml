<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.smallbeginjava11.mapper.IniDetailAddMapper">

    <insert id="insertIniDetailAdd" parameterType="java.util.List">
        INSERT
            INTO
                ini_detail_add(
                ini_dtl_add_code,
                ini_dtl_code,
                ini_dtl_add_done_date,
                ini_dtl_add_state
                )
            VALUES
            <foreach collection = "list" item="item" separator=",">
                ((select IFNULL(MAX(a.ini_dtl_add_code), 0) + 1 FROM ini_detail_add a),
                #{item},
                NULL,
                0)
            </foreach>
    </insert>

</mapper>